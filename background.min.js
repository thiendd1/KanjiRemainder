function showNotification(){null==db&&openConnection(),db.kanjis.toCollection().count(function(a){if(0==a)chrome.notifications.create("reminder",{type:"basic",iconUrl:"icon128-2x.png",title:"Import data",message:"Import data service starting ... !"},function(){parseDataFromCSV(csvF)});else{var b=Math.floor(Math.random()*a)+1;db.kanjis.get(b,function(a){if(void 0!=a){var b=new XMLHttpRequest;b.open("GET",textToImgURL+a.kanji),b.responseType="blob",b.onload=function(){var b=this.response;chrome.notifications.create("reminder",{type:"basic",iconUrl:window.URL.createObjectURL(b),title:a.kanji+"                                 (Lv: N"+a.type+")",message:a.hanviet.toUpperCase(),contextMessage:a.description.trim()+", "+a.description1})},b.send()}})}})}var strMin=min+"min";chrome.alarms.create(strMin,{delayInMinutes:min,periodInMinutes:min}),chrome.alarms.onAlarm.addListener(function(a){a.name===strMin&&showNotification()});
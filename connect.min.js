function openConnection(){db=new Dexie(dbName),db.version(1).stores({kanjis:"++id, kanji, hanviet, description, description1, type"}),db.open()["catch"](function(n){console.log("Uh oh : "+n)}),console.log("Database ready !")}function parseDataFromCSV(n){null==db&&openConnection(),db.kanjis.count(function(o){0==o?Papa.parse(n,{download:!0,complete:function(n){void 0!=n&&putData(n.data)}}):console.log("Data is ready !")})}function putData(n){if(n.length>0){null==db&&openConnection();var o=0,t=1,e=2,i=3,a=4,c=[];insertData=function(n,s){s>0&&c.push({kanji:n[o],hanviet:n[t],description:n[e],description1:n[i],type:n[a]})},n.forEach(insertData),db.kanjis.bulkAdd(c).then(function(){console.log("Import data success !")}).then(showNotification())["catch"](function(n){console.log("Ooops: "+n)})}}function getItem(n){null==db&&openConnection(),db.kanjis.get(n,function(n){return n})}var db=null,filesInput;